.container
  h1= title
  hr
  - if(question.answers.length > 1)
    - var type = "checkbox";
  - else
    - var type = "radio";

  - var attempted = false;
  - if(controls.displayedQuestionIndex != controls.currQuestionIndex) attempted = true;
  h3 Q. #{parseInt(controls.displayedQuestionIndex)+1}: #{question.question}
  form(method="post")
    .actions 
      - if(question.answers.length==1 && question.choices.length==1)
        textarea(name="answer")
      - else
        .questionBlock
          each option, optionIndex in question.choices
            div 
              - if(attempted)
                  - if(givenAns.indexOf(option) >= 0)
                    input(type="#{type}", name="questionOption", value="#{option}", disabled, checked)
                    |  #{option}
                  - else
                    input(type="#{type}", name="questionOption", value="#{option}", disabled)
                    |  #{option}
              - else
                input(type="#{type}", name="questionOption", value="#{option}")
                |  #{option}

    - if(controls.displayedQuestionIndex>0)
      a.btn.btn-primary(href="/test/#{controls.testId}/#{controls.displayedQuestionIndex}", style="margin-right:5px")
        i.icon-circle-arrow-left.icon-white 
        |  Previous


    - if(!attempted)
      - if(controls.finish)
        button.btn.btn-success(type="submit")
          i.icon-ok.icon-white 
          |  Finish    
      - else 
        button.btn.btn-primary(type="submit") Next 
          i.icon-circle-arrow-right.icon-white
    - else
        a.btn.btn-primary(href="/test/#{controls.testId}/#{controls.displayedQuestionIndex+2}", style="margin-right:5px") Next 
          i.icon-circle-arrow-right.icon-white 