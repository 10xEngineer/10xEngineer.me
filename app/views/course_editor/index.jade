extends ../layout

block layout.body
  .container
    h1 Courses - 
      -if(isLoggedIn && isAdmin)
        | Admin
      -else
        | #{user.name}

    p
      .course_editor_header
          a.btn(href="/course_editor/create") 
            i.icon-plus
            |	Add Course 
          a.btn.pull-right(href="/course_editor/import") 
            i.icon-download-alt
            |	Import Course

    p
      ul.course_list
        each course in courses
          -if(isLoggedIn && (isAdmin || (course.created_by && course.created_by._id.toString() == user._id.toString())))
            li 
              a(href='/course_editor/course/#{course.id}') #{course.title} 
              a.btn.btn-danger.pull-right(href="/course_editor/course/#{course.id}/remove") Remove
              -if(course.status != 'published')
                a.btn.btn-success.pull-right(href="/course_editor/course/#{course.id}/publish") Publish
              -else
                a.btn.btn-success.pull-right(href="/course_editor/course/#{course.id}/unpublish") Unpublish
              a.btn.pull-right(href="/course_editor/course/#{course.id}/edit") Edit
              -if(! course.featured)
                a.btn.btn-success.pull-right(href="/course_editor/course/#{course.id}/featured") Add to Featured
              -else
                a.btn.btn-success.pull-right(href="/course_editor/course/#{course.id}/unfeatured") Remove from Featured
              - if(course.created_by)
                p created By : #{course.created_by.name}
