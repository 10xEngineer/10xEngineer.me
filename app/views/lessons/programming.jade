extends ../layout

include ../widget/tabbar
include ../widget/sidebar

append layout.scripts
  script(type='text/javascript', src="/javascripts/superagent.min.js")
  script(type='text/javascript', src="/javascripts/ace_2/ace.js")
  script(type='text/javascript', src="/javascripts/jquery.contextMenu.js")
  script(type='text/javascript', src="/javascripts/eventemitter2.js")
  script(type='text/javascript', src="/javascripts/vfs-client.js")
  script(type='text/javascript', src="/javascripts/filetree.js")
  script(type='text/javascript', src="/javascripts/editor.js")
  script(type='text/javascript', src="/javascripts/views/lessons/programming.js")

  // For Share JS
  // script(type='text/javascript', src="/javascripts/share/bcsocket.js")
  // script(type='text/javascript', src="/share/share.js")
  // script(type='text/javascript', src="/share/json.js")
  // script(type='text/javascript', src="/javascripts/share/ace.js")
  // script(type='text/javascript', src="/javascripts/share/chat.js")

append layout.styles
  link(rel='stylesheet', href="/stylesheets/jquery.contextMenu.css")
  link(rel='stylesheet', href="/stylesheets/views/lessons/programming.css")

block layout.body
  .lessons_programming.container

    div#header
      //- TODO:: Re write header
    .row-fluid
      +sidebar-left("collapsible resizable")
        button#save(class="btn", type="button") Save
        button#compile(class="btn", type="button") Compile

        #tree
    
      +sidebar-right("collapsible resizable")
        div#chat

      .vsplit
        mixin tabbar
        .editor-container
          #editor(style='position:relative;width:100%;min-height:500px;display:inline-block;')
          input#docId(type="hidden", value="#{progressId}")
        .lessonBar.row-fluid
          a.btn.pull-left(href='/lesson/#{lesson.id}/previous/') Previous
          a.btn.pull-right.btn-success(href="/lesson/#{lesson.id}/next/") Next

    include ../_breadcrumb
