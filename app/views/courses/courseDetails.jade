//- Course index (Chapter list)
.container
  include ../_breadcrumb
  .container-fluid.course-index.inner-index
    .row-fluid
      .span4
        .course-header
          - if(typeof(course.image) != 'undefined')
            .course-img
              img(src='#{course.image}')
      .span8
        .course-content
          .row-fluid
            h1 #{course.title}
            - var creater = course.created_by ? course.created_by.name : undefined;
            - if(creater)
              h5 Created By: #{creater}
            h5 Date: #{course.created_at}
          .row-fluid.detailsBorder
            h3 Description
            p #{course.desc}
          - if(false)
            .row-fluid.detailsBorder
              h3 Rating: 
              img(src="/img/th_rating.gif")
          - if(progress)
            .row-fluid.detailsBorder
              h3 Overall Course Progress
              .progress.progress-striped.progressTotal
                .bar(style="width: #{progress.progress}%;")
            .row-fluid
              a.btn.btn-primary.btn-large(href="/course/#{course.id}/continue") Continue
          - else
            a.btn.btn-primary.btn-large(href="/course/#{course.id}/start") Start
    .row-fluid
      .span12

    .row-fluid
      .span6
        #detailsAccordion.accordion
          each chapter, chapterIndex in chapters
            .accordion-group
              div.accordion-heading
                a(href="##{chapter.id}", data-parent="#detailsAccordion", data-toggle="collapse", class="accordion-toggle") #{chapter.title}
                - if(progress)
                  .progress
                    .bar(style="width: #{progress.chapters[chapterIndex].progress}%;")
              div(class="accordion-body collapse", id="#{chapter.id}", style="height: 0px;")
                .accordion-inner
                  ul
                    each lesson, lessonIndex in chapter.lessons
                      - var icon = lesson.type + 'Icon';
                      li
                        div.lessonType(class="#{icon}")
                        - if(progress)
                          div.lessonStatus.pull-right(class="#{progress.chapters[chapterIndex].lessons[lessonIndex].status}")
                        div.lessonTitle
                          a(href="/lesson/#{lesson.id}") #{lesson.title}
      .span6
        h3 Chapter 1
        p It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (ifnjected humour and the like)
        .row-fluid
          .btn-group.backBtn
            a.btn.btn-large(href="javascript:history.go(-1)") back
    - if(false)
      .row-fluid.reviewsWrapper
        .row-fluid.reviewHeader
          Reviews
        .row-fluid
          .row-fluid.reviewBox
            h3 name 1
            p text text text
          .row-fluid.reviewBox
            h3 name 1
            p text text text
          .row-fluid.reviewBox
            h3 name 1
            p text text text